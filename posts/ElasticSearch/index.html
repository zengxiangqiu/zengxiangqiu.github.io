<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="天前"><meta name="hour-prompt" content="小时前"><meta name="minute-prompt" content="分钟前"><meta name="justnow-prompt" content="刚刚"><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="ElasticSearch" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="概念" /><meta property="og:description" content="概念" /><link rel="canonical" href="https://zengxiangqiu.github.io/posts/ElasticSearch/" /><meta property="og:url" content="https://zengxiangqiu.github.io/posts/ElasticSearch/" /><meta property="og:site_name" content="zengxiangqiu" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-13T14:54:29+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="ElasticSearch" /><meta name="twitter:site" content="@zengxiangqiu" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-08-08T11:39:03+08:00","datePublished":"2022-12-13T14:54:29+08:00","description":"概念","headline":"ElasticSearch","mainEntityOfPage":{"@type":"WebPage","@id":"https://zengxiangqiu.github.io/posts/ElasticSearch/"},"url":"https://zengxiangqiu.github.io/posts/ElasticSearch/"}</script><title> ElasticSearch | zengxiangqiu</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zengxiangqiu"><meta name="application-name" content="zengxiangqiu"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">zengxiangqiu</a></div><div class="site-subtitle font-italic">知识库</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/zengxiangqiu" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/zengxiangqiu" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span> ElasticSearch</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip> ElasticSearch</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> zengxiangqiu </span> 发表于 <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="2022-12-13, 14:54 +0800" >2022-12-13<i class="unloaded">2022-12-13T14:54:29+08:00</i> </span></div><div> <span> 更新于 <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="2023-08-08, 11:39 +0800" >2023-08-08<i class="unloaded">2023-08-08T11:39:03+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1139 字">6 分钟 阅读</span></div></div><div class="post-content"><h2 id="概念">概念</h2><blockquote><p>我们使用的术语 对象 和 文档 是可以互相替换的 shard = hash(routing) % number_of_primary_shards routing 是一个可变值，默认是文档的 _id ，也可以设置成一个自定义的值。 routing 通过 hash 函数生成一个数字，然后这个数字再除以 number_of_primary_shards （主分片的数量）后得到 余数 。这个分布在 0 到 number_of_primary_shards-1 之间的余数，就是我们所寻求的文档所在分片的位置</p></blockquote><p>在 hits 数组中每个结果包含文档的 _index 、 _type 、 _id ，加上 _source 字段。这意味着我们可以直接从返回的搜索结果中使用整个文档。</p><p>_shards 部分告诉我们在查询中参与分片的总数</p><p>一个倒排索引由文档中所有不重复词的列表构成，对于其中每个词，有一个包含它的文档列表。</p><p>同时你可以使用 from 和 size 参数来分页：</p><p>索引是由段（Segment）组成的，段存储在硬盘（Disk）文件中，段不是实时更新的，这意味着，段在写入磁盘后，就不再被更新</p><p><code class="language-plaintext highlighter-rouge">curl -X GET 'http://localhost:9200/lsd-_0/_search?q=filebeat_fields_source:nginx&amp;pretty'</code></p><p>Lucene 的段是分别存储到单个文件中的。因为段是不可变的，这些文件也都不会变化，这是对缓存友好的，同时操作系统也会把这些段文件缓存起来，以便更快的访问。</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span text-data=" Shell "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># 硬盘</span>
<span class="nb">df</span> <span class="nt">-h</span>

lsblk
</pre></table></code></div></div><p>一个 Elasticsearch 集群可以 包含多个 索引 ，相应的每个索引可以包含多个 类型 。 这些不同的类型存储着多个 文档 ，每个文档又有 多个 属性</p><p>Elasticsearch 默认按照相关性得分排序</p><p>索引 —— 保存相关数据的地方。 索引实际上是指向一个或者多个物理 分片 的 逻辑命名空间 。</p><p>倒排索引包含一个有序列表，列表包含所有文档出现过的不重复个体，或称为 词项 ，对于每一个词项，包含了它所有曾出现过文档的列表</p><p>一个 Lucene 索引 我们在 Elasticsearch 称作 分片 。 一个 Elasticsearch 索引 是分片的集合。 当 Elasticsearch 在索引中搜索的时候， 他发送查询到每一个属于索引的分片(Lucene 索引)，然后像 执行分布式检索 提到的那样，合并每个分片的结果到一个全局的结果集。</p><p>文档更新和删除也会导致大量的合并数，因为它们会产生最终需要被合并的段 碎片</p><p>映射, 就像数据库中的 schema ，描述了文档可能具有的字段或 属性 、每个字段的数据类型—比如 string, integer 或 date —以及 Lucene 是如何索引和存储这些字段的。</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span text-data=" Shell "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>docker run <span class="nt">-d</span> <span class="nt">-p</span> 9201:9200 <span class="nt">-p</span> 9301:9300 <span class="nt">--name</span><span class="o">=</span>es02 <span class="nt">-e</span> bootstrap.memory_lock<span class="o">=</span><span class="nb">true</span> <span class="nt">-e</span> <span class="nv">ES_JAVA_OPTS</span><span class="o">=</span><span class="s2">"-Xms2g -Xmx2g"</span> <span class="nt">-v</span> /var/lib/es02:/var/lib/elasticsearch <span class="nt">-v</span> /var/log/es02:/var/log/elasticsearch <span class="nt">-v</span> /root/es02.yml:/usr/share/elasticsearch/config/elasticsearch.yml <span class="nt">--cap-add</span><span class="o">=</span>IPC_LOCK <span class="nt">--ulimit</span> <span class="nv">nofile</span><span class="o">=</span>65536:65536 <span class="nt">--ulimit</span> <span class="nv">memlock</span><span class="o">=</span><span class="nt">-1</span>:-1 docker.elastic.co/elasticsearch/elasticsearch:6.7.2


docker run <span class="nt">-d</span> <span class="nt">-p</span> 9200:9200 <span class="nt">-p</span> 9300:9300 <span class="nt">-e</span> bootstrap.memory_lock<span class="o">=</span><span class="nb">true</span> <span class="nt">-e</span> <span class="nv">ES_JAVA_OPTS</span><span class="o">=</span><span class="s2">"-Xms2g -Xmx2g"</span> <span class="nt">-v</span> /var/lib/elasticsearch:/var/lib/elasticsearch <span class="nt">-v</span> /var/log/elasticsearch:/var/log/elasticsearch <span class="nt">-v</span> /root/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml <span class="nt">--cap-add</span><span class="o">=</span>IPC_LOCK <span class="nt">--ulimit</span> <span class="nv">nofile</span><span class="o">=</span>262144:262144 <span class="nt">--ulimit</span> <span class="nv">memlock</span><span class="o">=</span><span class="nt">-1</span>:-1 docker.elastic.co/elasticsearch/elasticsearch:6.7.2
</pre></table></code></div></div><blockquote><p>transport.bind_host, which the node should bind in order to listen for incoming transport connections transport.publish_host, which the node can be contacted by other nodes</p></blockquote><p>写入 index， es 写入 translog 和 in-memory, _refresh 将缓存区写入 lucene Segment(内存), _flush 将 Segment 写入 disk。</p><p>POST <code class="language-plaintext highlighter-rouge">/_cluster/reroute?retry_failed=true</code> 重启重试，5 次失败后会停止</p><p>POST <code class="language-plaintext highlighter-rouge">/_flush/synced</code> 自动分配</p><p>POST <code class="language-plaintext highlighter-rouge">/_cluster/allocation/explain?pretty</code> 分配解析</p><p>POST <code class="language-plaintext highlighter-rouge">/_cluster/settings</code> 开启自动分配</p><div class="language-json highlighter-rouge"><div class="code-header"> <span text-data=" JSON "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"persistent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cluster.routing.allocation.enable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="kopf">kopf</h2><div class="language-docker highlighter-rouge"><div class="code-header"> <span text-data=" Docker "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>docker run --name=kopf \
        --hostname=kopf \
        -p 80:80 \
        --env=KOPF_SERVER_NAME=grafana.dev \
        --env=KOPF_ES_SERVERS=192.168.20.95:9200 \
        --restart=always \
        lmenezes/elasticsearch-kopf
</pre></table></code></div></div><h2 id="cerebro">cerebro</h2><p>适用于 es 2.0+ 之后</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span text-data=" Shell "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># create brige network</span>
docker network create es

<span class="c"># run cerebro</span>
docker run <span class="nt">-d</span>  <span class="nt">--network</span><span class="o">=</span>es <span class="nt">--name</span><span class="o">=</span>cerebro  <span class="nt">-e</span> http.port<span class="o">=</span>80  <span class="nt">-p</span> 80:80 lmenezes/cerebro
</pre></table></code></div></div><h2 id="脑裂">脑裂</h2><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/modules-node.html#split-brain">split-brain</a></p><p><code class="language-plaintext highlighter-rouge">(master_eligible_nodes / 2) + 1</code></p><p>set 2， 3个有资格成为master的node，当其中一个master node 宕机， 剩余两个node将选举出新的master。</p><p>vmtest docker run 2 master， graylog-srv 也是 master-node， 当vmtest宕机，cluster 将无法run，因为没有足够的master-eligiable node（至少2）</p><p>考虑将 minimum_master_nodes =1, vmtest es01 作为 master_eligible_node ,es02 只作为 ingest，vmtest 暂不store data。</p><h2 id="iptables-failed">iptables failed</h2><p>install k8s 后 docker container exit 之后无法restart</p><p><code class="language-plaintext highlighter-rouge">'python-nftables' failed: internal:0:0-0: Error: Could not process rule: No such file or directory</code></p><p><code class="language-plaintext highlighter-rouge">systemctl restart docker</code> 无法重启</p><p>reboot ,OK</p><h2 id="docker-run-没有日志写入file">docker run ，没有日志写入file</h2><blockquote><p>config/log4j2.properties in the docker image only enables console logging. Docker makes container’s console logs available via docker logs.</p></blockquote><p>即使container stop, 也可以查看 docker logs</p><p>参考<a href="https://discuss.elastic.co/t/how-do-i-get-to-see-elasticsearch-own-logs-in-a-dockerized-elasticsearch/236839/5">这里</a></p><p><a href="https://github.com/lavie/runlike">runlike</a></p><p><a href="https://juejin.cn/post/7210338718312955961">Kubernetes-elasticsearch-nfs 集群部署</a></p><p><a href="https://www.cyberithub.com/how-to-delete-elasticsearch-unassigned-shards">How to Delete Elasticsearch Unassigned Shards in 4 Easy Steps</a></p><p><a href="https://www.elastic.co/guide/en/beats/filebeat/6.8/configuration-autodiscover.html">autodiscover</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/elastic/'>elastic</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/elastic/" class="post-tag no-text-decoration" >elastic</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text= ElasticSearch - zengxiangqiu&url=https://zengxiangqiu.github.io/posts/ElasticSearch/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title= ElasticSearch - zengxiangqiu&u=https://zengxiangqiu.github.io/posts/ElasticSearch/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text= ElasticSearch - zengxiangqiu&url=https://zengxiangqiu.github.io/posts/ElasticSearch/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>最近更新</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Docker/">Docker</a><li><a href="/posts/window-commands/">window commands</a><li><a href="/posts/kubernetes-install/">kubernetes install</a><li><a href="/posts/MySQL/"> MySQL</a><li><a href="/posts/kubernetes-mysql/">kubernetes mysql</a></ul></div><div id="access-tags"> <span>热门标签</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/redis/">redis</a> <a class="post-tag" href="/tags/%E6%B5%8B%E8%AF%95/">测试</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/deployment/">Deployment</a> <a class="post-tag" href="/tags/ef/">ef</a> <a class="post-tag" href="/tags/httpclient/">httpclient</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/linq/">linq</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">文章内容</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/seatunnel/"><div class="card-body"> <span class="timeago small" >08-06<i class="unloaded">2024-08-06T09:54:30+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>seatunnel</h3><div class="text-muted small"><p> seatunnel seatunnel seatunnel-doc source exactly-once 如果数据源中的每条数据仅由源向下游发送一次，我们认为该source connector支持精确一次（exactly-once）。 sink exactly-once 当任意一条数据流入分布式系统时，如果系统在整个处理过程中仅准确处理任意一条数据一次，且处理结果正...</p></div></div></a></div><div class="card"> <a href="/posts/Typescript/"><div class="card-body"> <span class="timeago small" >06-03<i class="unloaded">2024-06-03T10:43:36+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Typescript</h3><div class="text-muted small"><p> Finally, by setting the esModuleInterop option to true in tsconfig.json, you can import CommonJS modules using the syntax below (which is compliant with the ECMAScript specifications): // my-modul...</p></div></div></a></div><div class="card"> <a href="/posts/filebeat/"><div class="card-body"> <span class="timeago small" >05-24<i class="unloaded">2024-05-24T10:46:43+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>filebeat</h3><div class="text-muted small"><p> The symlinks option can be useful if symlinks to the log files have additional metadata in the file name, and you want to process the metadata in Logstash. This is, for example, the case for Kubern...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/kubernetes-install/" class="btn btn-outline-primary" prompt="上一篇"><p>kubernetes install</p></a> <a href="/posts/MySQL/" class="btn btn-outline-primary" prompt="下一篇"><p> MySQL</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">zengxiangqiu</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">热门标签</h4><a class="post-tag" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/redis/">redis</a> <a class="post-tag" href="/tags/%E6%B5%8B%E8%AF%95/">测试</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/deployment/">Deployment</a> <a class="post-tag" href="/tags/ef/">ef</a> <a class="post-tag" href="/tags/httpclient/">httpclient</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/linq/">linq</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
