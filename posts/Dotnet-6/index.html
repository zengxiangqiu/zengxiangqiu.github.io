<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="天前"><meta name="hour-prompt" content="小时前"><meta name="minute-prompt" content="分钟前"><meta name="justnow-prompt" content="刚刚"><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Dotnet 6" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="dotnet 源码分析" /><meta property="og:description" content="dotnet 源码分析" /><link rel="canonical" href="https://zengxiangqiu.github.io/posts/Dotnet-6/" /><meta property="og:url" content="https://zengxiangqiu.github.io/posts/Dotnet-6/" /><meta property="og:site_name" content="zengxiangqiu" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-11T10:05:43+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Dotnet 6" /><meta name="twitter:site" content="@zengxiangqiu" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-08-26T11:18:53+08:00","datePublished":"2022-03-11T10:05:43+08:00","description":"dotnet 源码分析","headline":"Dotnet 6","mainEntityOfPage":{"@type":"WebPage","@id":"https://zengxiangqiu.github.io/posts/Dotnet-6/"},"url":"https://zengxiangqiu.github.io/posts/Dotnet-6/"}</script><title>Dotnet 6 | zengxiangqiu</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="zengxiangqiu"><meta name="application-name" content="zengxiangqiu"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">zengxiangqiu</a></div><div class="site-subtitle font-italic">知识库</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/zengxiangqiu" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/zengxiangqiu" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>Dotnet 6</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Dotnet 6</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> zengxiangqiu </span> 发表于 <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="2022-03-11, 10:05 +0800" >2022-03-11<i class="unloaded">2022-03-11T10:05:43+08:00</i> </span></div><div> <span> 更新于 <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="2024-08-26, 11:18 +0800" >08-26<i class="unloaded">2024-08-26T11:18:53+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1425 字">7 分钟 阅读</span></div></div><div class="post-content"><p><a href="https://referencesource.microsoft.com/#mscorlib/system/Collections/Concurrent/ConcurrentStack.cs,098d3d1d1dcf32fe">dotnet 源码分析</a></p><h2 id="net-core-编码支持">.NET Core 编码支持</h2><p>默认情况下，.NET Core 不提供除代码页 28591 以外的其他任何代码页编码和 Unicode 编码，例如 UTF-8 和 UTF-16。</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">nuget</span> <span class="n">install</span> <span class="n">package</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">CodePages</span>

<span class="c1">//注册编码表</span>
<span class="n">Encoding</span><span class="p">.</span><span class="nf">RegisterProvider</span><span class="p">(</span><span class="n">CodePagesEncodingProvider</span><span class="p">.</span><span class="n">Instance</span><span class="p">);</span>
</pre></table></code></div></div><h2 id="systemtextjson-自定义字符编码">System.Text.Json 自定义字符编码</h2><p><a href="https://docs.microsoft.com/zh-cn/dotnet/standard/serialization/system-text-json-character-encoding">如何使用 System.Text.Json 自定义字符编码</a></p><p><code class="language-plaintext highlighter-rouge">UnicodeRanges.All</code></p><h2 id="net-5-发布于-2020年3月份">.Net 5 发布于 2020年3月份</h2><h2 id="泛型">泛型</h2><p>如果构造函数参数是开放类型，叫泛型类，如<code class="language-plaintext highlighter-rouge">Dictionary&lt;string，string&gt;</code></p><p>泛型也分绑定和未绑定，如未绑定，如<code class="language-plaintext highlighter-rouge">Dictionary&lt;,&gt;</code></p><p>但不允许绑定和未绑定一起用，即 <code class="language-plaintext highlighter-rouge">Dictionary&lt;,string&gt;</code></p><p>见 <a href="https://stackoverflow.com/questions/2173107/what-exactly-is-an-open-generic-type-in-net">解析</a></p><h2 id="extern--关键字">extern 关键字</h2><p>方法是外部实现的</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="nf">DllImport</span><span class="p">(</span><span class="s">"avifil32.dll"</span><span class="p">)]</span>
<span class="k">private</span> <span class="k">static</span> <span class="k">extern</span> <span class="k">void</span> <span class="nf">AVIFileInit</span><span class="p">();</span>
</pre></table></code></div></div><h2 id="volatile-关键字">volatile 关键字</h2><p>易变的，表示某字段可能会被多线程修改</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">VolatileTest</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">volatile</span> <span class="kt">int</span> <span class="n">sharedStorage</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Test</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">sharedStorage</span> <span class="p">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="结构-vs-类">结构 vs 类</h2><p>有何不同</p><ol><li>释放的成本不同， 值类型是stack 的pop出，而类实例的释放要等GC（标记，清除，压缩（压缩成连续的内存块））<li>Array数组，值类型要boxing和unxboxing，后来有了泛型，这一点可以忽略。</ol><p>Local variables are stored on stack no matter what type (class or struct) they have. The difference is that a local variable of struct type stores the struct instance and a local variable of reference types stores a reference to the class instance that’s stored on the heap. Fields are stored in the object they belong too. If the object is of reference type then it’s stored on the heap and so are its fields. If the object is of struct type then it may be stored on stack (as a local variable) or on the heap (as a field of another object).</p><p>struct中有class 成员，stack中存储member的引用，member的数据在heap</p><p>record 关键字用于修饰类或结构，用于相等性比较，引用类型时，值和引用obj一致才相等</p><p><a href="https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/choosing-between-class-and-struct">Choosing Between Class and Struct</a></p><p><a href="https://ericlippert.com/2010/09/30/the-truth-about-value-types/">关于值类型的真相</a></p><p><a href="https://docs.microsoft.com/zh-cn/archive/blogs/ericlippert/the-stack-is-an-implementation-detail-part-one">堆栈的实现细节</a></p><h2 id="string">string</h2><p>特殊的引用类型</p><p>因为其不变性（Immutability）</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kt">string</span> <span class="n">s1</span> <span class="p">=</span> <span class="s">"Hello "</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">s2</span> <span class="p">=</span> <span class="n">s1</span><span class="p">;</span>
<span class="c1">//s1指向新地址，值等于 Hello World，而s2仍然是旧地址</span>
<span class="n">s1</span> <span class="p">+=</span> <span class="s">"World"</span><span class="p">;</span>

<span class="n">System</span><span class="p">.</span><span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>
<span class="c1">//Output: Hello</span>
</pre></table></code></div></div><p>频繁拼接字符串的话，建议StringBuilder，内部Buffer.MemCopy实现，不会在堆内冗余过多。</p><h2 id="按值传参-vs-按引用传参">按值传参 vs 按引用传参</h2><p>与类不同的是，结构是值类型，不需要进行堆分配。 结构类型的变量直接包含结构的数据，而类类型的变量包含对数据的引用，后者称为对象。</p><p>数据类型分为值类型和引用类型。 值类型是堆栈分配的，或者是在 结构中内联分配的。 引用类型是堆分配的。</p><p>类型和值类型都派生自最终基类 Object引用</p><p>ValueType 是值类型的隐式基类，实现了更适合值类型的Equals(Object)等虚方法</p><p>传参分三类</p><ol><li>按值传参，复制<strong>数据的副本</strong>；<li>按引用传参，复制<strong>引用的副本</strong>；<li>ref/in/out 传参，已非装箱的方式传递值类型的地址，或引用类型的<strong>真实引用</strong>；</ol><p>关于ref/in/out</p><p>1) in</p><ol><li>值类型，传地址，但不能修改，包括本身和成员；<li>引用类型，传真实地址，本身不能修改，但成员可以； 2) ref 同 in，可以被修改，要求传入前初始化； 3) out 同ref，可以被修改，要求返回前赋值；</ol><p><a href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/language-specification/readme">C# 语言规范</a></p><h2 id="表达式">表达式</h2><p>default(type),this,base…</p><p><a href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/language-specification/expressions#this-access">表达式</a></p><h2 id="多态性">多态性</h2><p>关键词 ： 重写 virtual,Abstract,new, base,sealed</p><p>面向对象编程OOP（Object-Oriented programming）的四项基本原则为：</p><ul><li>抽象：将实体的相关特性和交互建模为类，以定义系统的抽象表示。<li>封装：隐藏对象的内部状态和功能，并仅允许通过一组公共函数进行访问。<li>继承：根据现有抽象创建新抽象的能力。<li>多态性：跨多个抽象以不同方式实现继承属性或方法的能力。</ul><p>Abstraction Encapsulation Inheritance Polymorphism 首字母 AEIP</p><p>a egg in pocket 一个鸡蛋在口袋</p><h2 id="弃元">弃元</h2><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="p">(</span><span class="n">DateTime</span><span class="p">.</span><span class="nf">TryParse</span><span class="p">(</span><span class="n">dateString</span><span class="p">,</span> <span class="k">out</span> <span class="n">_</span><span class="p">))</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"'</span><span class="p">{</span><span class="n">dateString</span><span class="p">}</span><span class="s">': valid"</span><span class="p">);</span>

<span class="kt">var</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">pop1</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">pop2</span><span class="p">)</span> <span class="p">=</span> <span class="nf">QueryCityDataForYears</span><span class="p">(</span><span class="s">"New York City"</span><span class="p">,</span> <span class="m">1960</span><span class="p">,</span> <span class="m">2010</span><span class="p">);</span>


</pre></table></code></div></div><h2 id="协变-vs-逆变">协变 vs 逆变</h2><p>变体</p><p>协变和逆变都是术语，前者指能够使用比原始指定的派生类型的派生程度更大（更具体的）的类型，后者指能够使用比原始指定的派生类型的派生程度更小（不太具体的）的类型 。</p><p>Func 泛型委托的最后一个泛型类型参数指定委托签名中返回值的类型。 该参数是协变的（out 关键字），而其他泛型类型参数是逆变的（in 关键字）。</p><h2 id="指针">指针</h2><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">unsafe</span> <span class="k">private</span> <span class="k">void</span><span class="p">*</span> <span class="n">m_value</span><span class="p">;</span>
</pre></table></code></div></div><p>int* p：p 是指向整数的指针。 int** p：p 是指向整数的指针的指针。 int<em>[] p：p 是指向整数的指针的一维数组。 char</em> p：p 是指向字符的指针。 void* p：p 是指向未知类型的指针。</p><h2 id="new-约束">new 约束</h2><p>指定泛型类声明中的类型实参必须有公共的无参数构造函数</p><h2 id="default-约束">default 约束</h2><p>? 可空注解</p><p>除非 添加 struct 约束，否则出现警告 #nullable enable</p><p>default约束 允许对 可空注解参数的重写</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span text-data=" C# "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">A2</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">F2</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span><span class="p">?</span> <span class="n">t</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="k">struct</span> <span class="err">{</span> <span class="err">}</span>
    <span class="nc">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">F2</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span><span class="p">?</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">B2</span> <span class="p">:</span> <span class="n">A2</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="n">F2</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span><span class="p">?</span> <span class="n">t</span><span class="p">)</span> <span class="cm">/*where T : struct*/</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="n">F2</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span><span class="p">?</span> <span class="n">t</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="k">default</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="https://learn.microsoft.com/en-us/dotnet/desktop/winforms/controls/how-to-display-side-aligned-tabs-with-tabcontrol?view=netframeworkdesktop-4.8">tabcontrol</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E5%85%B6%E4%BB%96/'>其他</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%E8%AF%AD%E8%A8%80/" class="post-tag no-text-decoration" >语言</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Dotnet 6 - zengxiangqiu&url=https://zengxiangqiu.github.io/posts/Dotnet-6/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Dotnet 6 - zengxiangqiu&u=https://zengxiangqiu.github.io/posts/Dotnet-6/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Dotnet 6 - zengxiangqiu&url=https://zengxiangqiu.github.io/posts/Dotnet-6/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>最近更新</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Docker/">Docker</a><li><a href="/posts/window-commands/">window commands</a><li><a href="/posts/kubernetes-install/">kubernetes install</a><li><a href="/posts/MySQL/"> MySQL</a><li><a href="/posts/kubernetes-mysql/">kubernetes mysql</a></ul></div><div id="access-tags"> <span>热门标签</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/redis/">redis</a> <a class="post-tag" href="/tags/%E6%B5%8B%E8%AF%95/">测试</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/deployment/">Deployment</a> <a class="post-tag" href="/tags/ef/">ef</a> <a class="post-tag" href="/tags/httpclient/">httpclient</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/linq/">linq</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">文章内容</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Vim/"><div class="card-body"> <span class="timeago small" >2021-12-07<i class="unloaded">2021-12-07T15:28:44+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Vim</h3><div class="text-muted small"><p> How to Search in Vim / Vi 91 Vim Keyboard Shortcuts to Get Started with Vim :nohlsearch # 关闭search 高亮 vjj&gt; # 插入indent set autoindent expandtab tabstop=2 shiftwidth=2 Set Indentation Width ...</p></div></div></a></div><div class="card"> <a href="/posts/%E4%BE%9B%E5%BA%94%E9%93%BE/"><div class="card-body"> <span class="timeago small" >2021-12-10<i class="unloaded">2021-12-10T16:24:19+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>供应链</h3><div class="text-muted small"><p> 写给供应链产品经理：浅谈订单系统的设计 非常详细 电商系统术语 用处不大 协同仓+特殊仓 Photo Station、Monents Video Station</p></div></div></a></div><div class="card"> <a href="/posts/%E6%9C%AF%E8%AF%AD/"><div class="card-body"> <span class="timeago small" >2021-12-10<i class="unloaded">2021-12-10T17:27:10+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>术语</h3><div class="text-muted small"><p> PV = page view 点击率 QPS = Queries Per Second 每秒查询率 TPS = transactions Per Second 每秒事务率 参考 TPS、QPS和系统吞吐量的区别和理解 聊聊TPS、QPS、CPS概念和区别 QPS 计算公式 每秒查询率QPS是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/" class="btn btn-outline-primary" prompt="上一篇"><p>分布式锁</p></a> <a href="/posts/T-Sql/" class="btn btn-outline-primary" prompt="下一篇"><p>Transact-Sql</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">zengxiangqiu</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">热门标签</h4><a class="post-tag" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/redis/">redis</a> <a class="post-tag" href="/tags/%E6%B5%8B%E8%AF%95/">测试</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/deployment/">Deployment</a> <a class="post-tag" href="/tags/ef/">ef</a> <a class="post-tag" href="/tags/httpclient/">httpclient</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/linq/">linq</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
